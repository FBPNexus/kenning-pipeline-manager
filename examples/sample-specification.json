{
    "version": "20230830.11",
    "nodes": [
        {
            "name": "Filesystem-base",
            "abstract": true,
            "layer": "filesystem",
            "category": "Filesystem",
            "properties": [
                {"name": "filename", "type": "text", "default": ""}
            ]
        },
        {
            "name": "LoadVideo",
            "extends": ["Filesystem-base"],
            "interfaces": [{"name": "frames", "type": "Image", "direction": "output"}],
            "description": "### Information \n\n Node used to load a video and parametrize the *filename*.\n\nAdditionally the video can be passed to another node."
        },
        {
            "name": "SaveVideo",
            "extends": ["Filesystem-base"],
            "interfaces": [
                {"name": "color", "type": "Image", "direction": "input"},
                {"name": "binary", "type": "BinaryImage", "direction": "input"}
            ]
        },
        {
            "name": "SaveFrames",
            "layer": "filesystem",
            "category": "Filesystem",
            "properties": [
                {"name": "Folder name", "type": "text", "default": ""},
                {"name": "Name prefix", "type": "text", "default": ""}
            ],
            "interfaces": [
                {"name": "color", "type": "Image", "direction": "input"},
                {"name": "binary", "type": "BinaryImage", "direction": "input"}
            ]
        },
        {
            "name": "SaveFrame",
            "extends": ["Filesystem-base"],
            "properties": [
                {"name": "Frame number", "type": "integer", "default": 0}
            ],
            "interfaces": [
                {"name": "color", "type": "Image", "direction": "input"},
                {"name": "binary", "type": "BinaryImage", "direction": "input"}
            ]
        },
        {
            "name": "GaussianKernel",
            "layer": "kernel",
            "category": "Generators",
            "properties": [
                {"name": "size", "type": "integer", "default": 5},
                {"name": "sigma", "type": "number", "default": 1.0}
            ],
            "interfaces": [{"name": "kernel", "type": "Image", "direction": "output"}]
        },
        {
            "name": "SobelKernel",
            "layer": "kernel",
            "category": "Generators",
            "properties": [
                {"name": "size", "type": "integer", "default": 3}
            ],
            "interfaces": [
                {"name": "Horizontal edge kernel", "type": "Image", "direction": "output"},
                {"name": "Vertical edge kernel", "type": "Image", "direction": "output"}
            ]
        },
        {
            "name": "StructuringElement",
            "layer": "kernel",
            "category": "Generators",
            "properties": [
                {"name": "size", "type": "integer", "default": 5},
                {
                    "name": "shape",
                    "type": "select",
                    "values": ["Rectangle", "Cross", "Ellipse"],
                    "default": "Cross"
                }
            ],
            "interfaces": [{"name": "kernel", "type": "BinaryImage", "direction": "output"}]
        },
        {
            "name": "Filter2D",
            "layer": "processing",
            "category": "Processing",
            "description": "Node that applies a *2D* filter.",
            "properties": [
                {"name": "iterations", "type": "integer", "default": 1},
                {
                    "name": "border type",
                    "type": "select",
                    "values": ["constant", "replicate", "wrap", "reflect"],
                    "default": "constant"
                }
            ],
            "interfaces": [
                {"name": "image", "type": "Image", "direction": "input"},
                {"name": "kernel", "type": "Image", "direction": "input"},
                {"name": "output", "type": "Image", "direction": "output"}
            ]
        },
        {
            "name": "Threshold",
            "layer": "processing",
            "category": "Processing",
            "properties": [
                {"name": "threshold_value", "type": "integer", "default": 1},
                {
                    "name": "threshold_type",
                    "type": "select",
                    "values": ["Binary", "Truncate", "Otsu"],
                    "default": "constant"
                }
            ],
            "interfaces": [
                {"name": "image", "type": "Image", "direction": "input"},
                {"name": "output", "type": "BinaryImage", "direction": "output"}
            ]
        },
        {
            "name": "CannyEdgeDetection",
            "layer": "processing",
            "category": "Processing",
            "properties": [
                {"name": "sigma", "type": "text", "default": "1.4"},
                {"name": "kernel size", "type": "integer", "default": 3}
            ],
            "interfaces": [
                {"name": "input", "type": "Image", "direction": "input"},
                {"name": "output", "type": "Image", "direction": "output"}
            ]
        },
        {
            "name": "Scale",
            "layer": "processing",
            "category": "Processing",
            "properties": [
                {"name": "Scaling factor", "type": "text", "default": "1.75"}
            ],
            "interfaces": [
                {"name": "input", "type": "Image", "direction": "input"},
                {"name": "output", "type": "Image", "direction": "output"}
            ]
        },
        {
            "name": "Logical AND",
            "layer": "processing",
            "category": "Processing",
            "interfaces": [
                {"name": "input 1", "type": "BinaryImage", "direction": "input"},
                {"name": "input 2", "type": "BinaryImage", "direction": "input"},
                {"name": "output", "type": "BinaryImage", "direction": "output"}
            ]
        },
        {
            "name": "Logical OR",
            "layer": "processing",
            "category": "Processing",
            "interfaces": [
                {"name": "input 1", "type": "BinaryImage", "direction": "input"},
                {"name": "input 2", "type": "BinaryImage", "direction": "input"},
                {"name": "output", "type": "BinaryImage", "direction": "output"}
            ]
        },
        {
            "name": "Logical NOT",
            "layer": "processing",
            "category": "Processing",
            "interfaces": [
                {"name": "input", "type": "BinaryImage", "direction": "input"},
                {"name": "output", "type": "BinaryImage", "direction": "output"}
            ]
        },
        {
            "name": "Logical XOR",
            "layer": "processing",
            "category": "Processing",
            "interfaces": [
                {"name": "input 1", "type": "BinaryImage", "direction": "input"},
                {"name": "input 2", "type": "BinaryImage", "direction": "input"},
                {"name": "output", "type": "BinaryImage", "direction": "output"}
            ]
        },
        {
            "name": "Morphological operation",
            "layer": "processing",
            "category": "Processing",
            "properties": [
                {
                    "name": "Enable operations", "type": "bool", "default": true, "group": [
                        {"name": "iterations", "type": "integer", "default": 1},
                        {
                            "name": "border type",
                            "type": "select",
                            "values": ["constant", "replicate", "wrap", "reflect"],
                            "default": "constant"
                        },
                        {
                            "name": "operation type",
                            "type": "select",
                            "values": ["dilation", "erosion", "closing", "opening"],
                            "default": "dilation"
                        }
                    ]
                }
            ],
            "interfaces": [
                {"name": "image", "type": "BinaryImage", "direction": "input"},
                {"name": "kernel", "type": "BinaryImage", "direction": "input"},
                {"name": "output", "type": "BinaryImage", "direction": "output"}
            ]
        },
        {
            "name": "RemoveColor",
            "layer": "processing",
            "category": "Processing",
            "properties": [
                {"name": "color", "type": "hex", "default": "0xFFFFFF"}
            ],
            "interfaces": [
                {"name": "input", "type": "BinaryImage", "direction": "input"},
                {"name": "output", "type": "BinaryImage", "direction": "output"}
            ]
        }
    ],
    "metadata": {
        "twoColumn": true,
        "interfaces": {
            "BinaryImage": {
                "interfaceColor": "#FF00FF",
                "interfaceConnectionPattern": "dashed",
                "interfaceConnectionColor": "#FF0000"
            },
            "Image": {
                "interfaceConnectionPattern": "dotted",
                "interfaceConnectionColor": "#FFFF00"
            }
        },
        "connectionStyle": "orthogonal",
        "layers": [
            {
                "name": "IOs",
                "nodeLayers": ["filesystem"]
            },
            {
                "name": "Binary imaging",
                "nodeInterfaces": ["BinaryImage"]
            },
            {
                "name": "Both",
                "nodeLayers": ["processing"],
                "nodeInterfaces": ["BinaryImage"]
            }
        ]
    }
}
